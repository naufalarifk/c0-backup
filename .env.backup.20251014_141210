#== APP
NODE_ENV=development
APP_NAME=Gadain
APP_SCHEME=crypto-gadai://
APP_EXPO_URL=exp://192.168.0.105:8081/--
PORT=3000
ENABLE_DOCUMENTATION=true
API_VERSION=v1.0.0
ALLOWED_ORIGINS="
http://localhost:8081,
http://localhost:3000,
https://cg-api.fh47.my.id,
https://helping-surely-tahr.ngrok-free.app,
exp://192.168.0.105:8081,
crypto-gadai://
"

# ===========================
# Database Configuration
# ===========================
POSTGRES_IMAGE_VERSION=17-alpine
POSTGRES_CONTAINER_NAME=cryptogadai-postgres
POSTGRES_VERSION=17-alpine
POSTGRES_DB=cryptogadai
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_PORT=5432

# Database Connection
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/cryptogadai
DATABASE_LOGGER=true

# ===========================
# Authentication Configuration
# ===========================
BETTER_AUTH_SECRET=RzU4YdmVnmxJV96S1MpHgb77ZTotSHiv
BETTER_AUTH_URL=http://localhost:3000 #Base URL of your app

BETTER_AUTH_URL=https://helping-surely-tahr.ngrok-free.app #Base URL of your app
BETTER_AUTH_COOKIE_PREFIX=cg
BETTER_AUTH_MAXIMUM_SESSIONS=3
BETTER_AUTH_TELEMETRY=0
BETTER_AUTH_TELEMETRY_DEBUG=1
BETTER_AUTH_EXPIRATION_TIME=3600

# Session Configuration
SESSION_MAX_AGE=604800
SESSION_UPDATE_AGE=86400
SESSION_COOKIE_CACHE_AGE=300

# Email Verification Grace Period
# How long unverified accounts remain before cleanup
# Examples: "24h", "1d", "30m", "2 days", "1hr 30mins"
EMAIL_VERIFICATION_GRACE_PERIOD=24h

# ===========================
# OAuth Configuration
# ===========================
# Google OAuth
GOOGLE_CLIENT_ID=442461506062-rgpbj94u778lpcfv5hg5rue6fpveddt6.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=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

# ===========================
# Email Configuration
# ===========================
EMAIL_FROM=no-reply.gadain@resend.dev
RESEND_API_KEY=re_YfAnnhzS_QqqB9vysmFXpfEC6R4Av6Sfq

# ===========================
# SMS & WhatsApp Configuration
# ===========================
TWILIO_ACCOUNT_SID=AC4a328bcbbbf882c6af8b833bb49f3534
TWILIO_AUTH_TOKEN=3203474eb11cd61bf350157db3375cb6
TWILIO_VERIFY_SID=VATWILIO_VERIFY_SID
TWILIO_PHONE_NUMBER=+19783964300
TWILIO_DEFAULT_WHATSAPP_FROM=whatsapp:+19783964300

# ===========================
# Rate Limiting Configuration
# ===========================
THROTTLER_TTL=1m
THROTTLER_LIMIT=10

# ===========================
# Redis Configuration
# ===========================
REDIS_VERSION=8-alpine
REDIS_CONTAINER_NAME=cryptogadai-redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# ===========================
# Development Mail Server
# ===========================
# Mailpit - Local Development Mail Testing
MAIL_IMAGE=axllent/mailpit:v1.27.7
MAIL_CONTAINER_NAME=cryptogadai-mailpit
MAIL_HOST=localhost
MAIL_SMTP_PORT=1025
MAIL_HTTP_PORT=8025

# Mail Settings
MAIL_USER=
MAIL_PASSWORD=
MAIL_IGNORE_TLS=true
MAIL_SECURE=false
MAIL_REQUIRE_TLS=false
MAIL_DEFAULT_EMAIL=noreply@example.com
MAIL_DEFAULT_NAME=Api

#== Minio Configuration
MINIO_CONTAINER_NAME=cryptogadai-minio
MINIO_VERSION=2024
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin123
MINIO_ENDPOINT=localhost:9000
MINIO_USE_SSL=false
MINIO_DEFAULT_BUCKETS=uploads,documents,images
MINIO_SCHEME=http
MINIO_API_CORS_ALLOW_ORIGIN=*

HEALTHCHECK_INTERVAL=30s
HEALTHCHECK_TIMEOUT=10s
HEALTHCHECK_RETRIES=3
HEALTHCHECK_START_PERIOD=40s



VAULT_ADDR=http://127.0.0.1:8200
VAULT_TOKEN=root
# VAULT_TOKEN=hvs.pJDhJ6HfDgMH3X5LPXKLhReR
VAULT_CONTAINER_NAME=cryptogadai-vault
VAULT_ROLE_ID=your-role-id-here
VAULT_SECRET_ID=your-secret-id-here
VAULT_MODE=dev
VAULT_DATA_VOLUME=vault_data

#== Price Feed APIKEY
PRICEFEED_API_KEY=811d4633-2aba-4141-8176-4331fd75bdf1

#== RPC URLs

ETH_RPC_URL=https://eth-mainnet.g.alchemy.com/v2/T-0ehLRPBR4WZJDfIBCxS
BTC_RPC_URL=https://bitcoin-mainnet.g.alchemy.com/v2/T-0ehLRPBR4WZJDfIBCxS
SOL_RPC_URL=https://solana-mainnet.g.alchemy.com/v2/T-0ehLRPBR4WZJDfIBCxS

ETH_WS_URL=wss://eth-mainnet.g.alchemy.com/v2/T-0ehLRPBR4WZJDfIBCxS
# ETH_WS_URL=wss://eth-sepolia.g.alchemy.com/v2/T-0ehLRPBR4WZJDfIBCxS


# Settlement Module - Environment Variables Template

# Copy these to your .env file and fill in the values

# ============================================================================
# SETTLEMENT CONFIGURATION
# ============================================================================

# Enable/disable the automated settlement scheduler
# When enabled, settlement runs daily at midnight (00:00 AM)
# Set to 'false' to disable automated settlement
SETTLEMENT_SCHEDULER_ENABLED=true

# Cron schedule for settlement (default: midnight UTC)
# Format: "minute hour day month weekday"
# Examples:
#   "0 0 * * *"   = Every day at midnight
#   "0 */6 * * *" = Every 6 hours
#   "0 2 * * *"   = Every day at 2 AM
SETTLEMENT_CRON_SCHEDULE=0 0 * * *

# Run initial settlement on module initialization (default: false)
# Set to 'true' to run settlement immediately when the app starts
# Useful for development/testing, not recommended for production
SETTLEMENT_RUN_ON_INIT=false

# Percentage of total balance to maintain on Binance Exchange (0-100)
# Example: 50 means 50% on Binance, 50% in hot wallets
# Example: 33 means 33% on Binance, 67% in hot wallets
SETTLEMENT_TARGET_PERCENTAGE=50

# Target network for settlement (default: binance)
# Options: 'binance' or specific blockchain key (e.g., 'eip155:56')
SETTLEMENT_TARGET_NETWORK=binance

# Minimum amount to settle (skip if below this threshold)
# Example: 0.01 means skip settlements smaller than 0.01
SETTLEMENT_MIN_AMOUNT=0.01

# ============================================================================
# BINANCE API CONFIGURATION (REQUIRED FOR FULL FUNCTIONALITY)
# ============================================================================

# Enable Binance Exchange API integration
# When enabled: Uses Binance API for accurate balances and withdrawals
# When disabled: Falls back to blockchain-only approach (BSC address)
BINANCE_API_ENABLED=true

# Binance Production API Key
# Get from: https://www.binance.com/en/my/settings/api-management
# Required permissions: "Enable Reading", "Enable Withdrawals"
# IMPORTANT: Enable IP whitelist for security
# Used in production mode (NODE_ENV=production)
BINANCE_API_KEY=UuyXnUlw39Hvm5ygnq7th4yz4pSzWOif5UoB1b4z4Cir9zjhT08uypjyVRNkdrc5

# Binance Production API Secret
# This is shown only once when creating the API key - save it securely!
BINANCE_API_SECRET=4j1J96YN701QXyv5UTLb1xYUned2oN4T2w8UsBJOTf2lJGLjqqCWRycexdvz6OsM

# Binance Test API Key (Testnet)
# Get from: https://testnet.binance.vision/
# Used in development mode (NODE_ENV=development)
BINANCE_TEST_API_KEY=RgRwzn7IAShdLiS8xbVSnh1naM6y4OKxXuQg47dMhOWDGCtvPtS66FwUmRKscxGb

# Binance Test API Secret (Testnet)
BINANCE_TEST_API_SECRET=tbMXRJoTJCMBUd5IdNnpxdOEf2Gasm2fvwieK3zpVi1R14hbQiOauweumtcLUsW1

# Binance API Base URL (optional)
# Production: https://api.binance.com (default)
# Testnet: https://testnet.binance.vision
BINANCE_API_BASE_URL=https://testnet.binance.vision

# Use testnet mode for Binance (development/testing)
BINANCE_USE_TESTNET=true

# ============================================================================
# SOLANA CONFIGURATION
# ============================================================================

# Use Solana Devnet for testing (we have 5 SOL available)
SOLANA_USE_DEVNET=true

# Wallet mnemonic for hot wallet (deterministic address derivation)
# Address on devnet: 815tYsAwUqZSDWPfrpYW5Cc4d8BhAib9YPxcUm3AyXHW
WALLET_MNEMONIC=increase harsh parrot slight pool police crack wife hill drill swim pool youth artefact ankle

# ============================================================================
# PRODUCTION EXAMPLE (with Binance API)
# ============================================================================

# SETTLEMENT_ENABLED=true
# SETTLEMENT_PERCENTAGE=50
# SETTLEMENT_TARGET_NETWORK=eip155:56
# BINANCE_API_ENABLED=true
# BINANCE_API_KEY=vmPUZE6mv9SD5VNHk4HlWFsOr6aKE2zvsw0MuIgwCIPy6utIco14y7Ju91duEh8A
# BINANCE_API_SECRET=NhqPtmdSJYdKjVHjA7PZj4Mge3R5YNiP1e3UZjInClVN65XAbvqqM6A7H5fATj0j
# BINANCE_API_BASE_URL=https://api.binance.com

# ============================================================================
# DEVELOPMENT/TESTING EXAMPLE (with Testnet)
# ============================================================================

# SETTLEMENT_ENABLED=true
# SETTLEMENT_PERCENTAGE=50
# SETTLEMENT_TARGET_NETWORK=eip155:56
# BINANCE_API_ENABLED=true
# BINANCE_API_KEY=testnet_api_key_here
# BINANCE_API_SECRET=testnet_api_secret_here
# BINANCE_API_BASE_URL=https://testnet.binance.vision

# ============================================================================
# MINIMAL EXAMPLE (without Binance API - blockchain only)
# ============================================================================

# SETTLEMENT_ENABLED=true
# SETTLEMENT_PERCENTAGE=50
# SETTLEMENT_TARGET_NETWORK=eip155:56
# BINANCE_API_ENABLED=false

# ============================================================================
# SECURITY NOTES
# ============================================================================

# 1. NEVER commit this file with real credentials to version control
# 2. Use HashiCorp Vault or similar secret management in production
# 3. Enable IP whitelist on Binance API key settings
# 4. Only grant required permissions (Reading + Withdrawals)
# 5. Rotate API keys regularly (every 90 days recommended)
# 6. Monitor API key usage via Binance dashboard
# 7. Set up alerts for unusual withdrawal patterns

# ============================================================================
# TESTING CHECKLIST
# ============================================================================

# Before enabling in production:
# [ ] Test API connectivity: curl https://api.binance.com/api/v3/ping
# [ ] Verify API key has correct permissions
# [ ] Test with small amounts first on testnet
# [ ] Confirm deposit addresses are correct
# [ ] Test withdrawal flow end-to-end
# [ ] Set up monitoring and alerts
# [ ] Document incident response procedures

# ============================================================================
# TROUBLESHOOTING
# ============================================================================

# Issue: "Binance API client not initialized"
# Solution: Check BINANCE_API_KEY and BINANCE_API_SECRET are set correctly

# Issue: "IP address not whitelisted"
# Solution: Add server IP to Binance API key whitelist

# Issue: Withdrawals failing
# Solution: Check API key has "Enable Withdrawals" permission

# Issue: "Daily withdrawal limit exceeded"
# Solution: Wait 24 hours or increase verification level on Binance

# For more help, see: src/modules/settlement/BINANCE_INTEGRATION.md


# Use the same mnemonic as WALLET_MNEMONIC for consistency in testing
# IMPORTANT: This is a TEST mnemonic - NEVER use in production!
PLATFORM_MASTER_MNEMONIC=increase harsh parrot slight pool police crack wife hill drill swim pool youth artefact ankle
