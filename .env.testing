# Environment configuration for local testing with docker-compose.testing.yml
# This file configures the testing environment to run locally instead of on a server

# Disable SSL for local development (enables HTTP instead of HTTPS)
SSL_DISABLED=true

# Protocol and domain configuration for local development
PROTOCOL=http
API_DOMAIN=cg-api.localhost
TRAEFIK_DOMAIN=cg-traefik.localhost
MAILPIT_DOMAIN=cg-mail.localhost
JAEGER_DOMAIN=cg-jaeger.localhost
PROMETHEUS_DOMAIN=cg-prometheus.localhost
GRAFANA_DOMAIN=cg-grafana.localhost
LOKI_DOMAIN=cg-loki.localhost
OTEL_DOMAIN=cg-otel.localhost
GHOST_DOMAIN=cg-blog.localhost
GHOST_PROTOCOL=http

# Application configuration
NODE_ENV=testing
APP_NAME=Gadain-Testing
APP_SCHEME=crypto-gadai
PORT=3100

# Database configuration (uses docker service names)
DATABASE_URL=postgresql://postgres:postgres@postgres:5432/cryptogadai
POSTGRES_DB=cryptogadai
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres

# Redis configuration (uses docker service name)
REDIS_HOST=redis
REDIS_PORT=6379

# Authentication configuration
BETTER_AUTH_SECRET=RzU4YdmVnmxJV96S1MpHgb77ZTotSHiv-testing
BETTER_AUTH_URL=http://cg-api.localhost
BETTER_AUTH_COOKIE_PREFIX=cg-test
BETTER_AUTH_MAXIMUM_SESSIONS=3
BETTER_AUTH_TELEMETRY=0
BETTER_AUTH_TELEMETRY_DEBUG=1
BETTER_AUTH_EXPIRATION_TIME=3600

# Session Configuration
SESSION_MAX_AGE=604800
SESSION_UPDATE_AGE=86400
SESSION_COOKIE_CACHE_AGE=300

# Email configuration (uses docker service name)
MAIL_HOST=mailpit
MAIL_SMTP_PORT=1025
MAIL_HTTP_PORT=8025
EMAIL_FROM=no-reply.testing@gadain.local

# Minio configuration (uses docker service name)
MINIO_API_DOMAIN=cg-minio-api.localhost
MINIO_CONSOLE_DOMAIN=cg-minio.localhost
MINIO_ENDPOINT=minio:9000
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin123
MINIO_USE_SSL=false
MINIO_DEFAULT_BUCKETS=uploads,documents,images
MINIO_SCHEME=http
MINIO_API_CORS_ALLOW_ORIGIN=*

# Google OAuth (same as example, for testing)
GOOGLE_CLIENT_SECRET=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
GOOGLE_CLIENT_ID=836145162943-d3ooukrbp72q8cvaq9q1blfbm9bqjgoc.apps.googleusercontent.com

# Throttling configuration
THROTTLER_TTL=1m
THROTTLER_LIMIT=100

# Email Verification Grace Period
EMAIL_VERIFICATION_GRACE_PERIOD=24h

# OpenTelemetry Configuration (already configured in docker-compose)
OTEL_SERVICE_NAME=cryptogadai-backend
OTEL_EXPORTER_OTLP_ENDPOINT=http://otel-collector:4318
OTEL_EXPORTER_OTLP_PROTOCOL=http/protobuf
OTEL_TRACES_EXPORTER=otlp
OTEL_METRICS_EXPORTER=otlp
OTEL_LOGS_EXPORTER=otlp
OTEL_NODE_RESOURCE_DETECTORS=env,host,os,process

# Grafana configuration
GF_SECURITY_ADMIN_USER=admin
GF_SECURITY_ADMIN_PASSWORD=admin
GF_USERS_ALLOW_SIGN_UP=false

# Health check configuration
HEALTHCHECK_INTERVAL=30s
HEALTHCHECK_TIMEOUT=10s
HEALTHCHECK_RETRIES=3
HEALTHCHECK_START_PERIOD=40s

# Documentation
ENABLE_DOCUMENTATION=true
API_VERSION=v1.0.0-testing

# Expo Push Notifications - Testing
# Disabled for testing environment
EXPO_ACCESS_TOKEN=
EXPO_ENABLED=false
# Wallet configuration for testing
WALLET_TEST_MODE=true
PLATFORM_MASTER_MNEMONIC=abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon abandon about

# Cryptography configuration for testing
CRYPTOGRAPHY_ENGINE=local
