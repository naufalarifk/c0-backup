# Lefthook Configuration
# Refer: https://lefthook.dev/configuration/

pre-commit:
  commands:
    # Format & Lint with Biome
    biome-check:
      glob: "*.{js,ts,json}"
      run: pnpm biome check --write --no-errors-on-unmatched --files-ignore-unknown=true --colors=off {staged_files}
      stage_fixed: true

commit-msg:
  commands:
    commitlint:
      run: pnpm dlx commitlint --config commitlint.config.js --edit $1

pre-push:
  commands:
    # Full test suite before push
    # test:
    #   run: pnpm test

    # Build verification
    build:
      run: pnpm build

    # Database migration check
    # db-check:
    #   run: pnpm db:check
